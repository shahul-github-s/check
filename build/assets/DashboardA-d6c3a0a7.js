import{r as i,j as e}from"./mui-0cba0ffe.js";import{A as b}from"./AppBar-be2fc40a.js";import{A as N}from"./AppGrid-c25915a4.js";import{S as A}from"./StatisticsCard-6cd1b122.js";import{S as x}from"./Spring-36ff1ca8.js";import{S as v}from"./index-78999714.js";import{u as m,a as j,N as S}from"./index-d498fdfb.js";import{n as u,g as k,c as h}from"./helpers-fc71785b.js";import{P as d}from"./options-4eeaed21.js";import{s as f}from"./sales_chart-2edabdd8.js";import{R as y,A as C,C as F,X as T,Y as P,T as w,a as E,P as L,b as B,c as D}from"./recharts-0625a0c7.js";import{B as R}from"./BasicTable-23f844a1.js";import{T as _}from"./TopSellingCollapse-5e32bd4d.js";import{T as G}from"./columnDefs-362ddda8.js";import{t as g}from"./top_selling-fd15f0b8.js";import{T as z}from"./Counter-7a75a24d.js";import"./Helmet-d8d34bf4.js";import"./ResizeObserver.es-f4289e8a.js";import"./browser-ddfbe8c3.js";import"./toConsumableArray-04f0e357.js";import"./objectWithoutProperties-779f62c6.js";import"./createSuper-38483bea.js";import"./memoize-one.esm-297ddbcb.js";import"./TopSellingProductItem-64867903.js";import"./index-ec57111b.js";import"./toArray-96c1bfdf.js";import"./StarRating-c58da8d3.js";import"./IconButton-b3458e52.js";import"./5-9e51cfdc.js";const I=()=>{const[s,t]=i.useState({todayRevenue:{value:"",trend:""},todayVisitors:{value:"",trend:""},todayProfit:{value:"",trend:""},totalExpenses:{value:"",trend:""}}),r=async()=>{try{const l=await(await fetch("https://script.google.com/macros/s/AKfycbwwv-ppJv0GZiUhff6xOZqUmU3rtmiLLgjhFuObx2w2VkPrrKYFbTXYVAIwRNpNvu-Qdg/exec")).json();t(l)}catch(a){console.error("Error fetching Google Sheets data:",a)}};i.useEffect(()=>{r()},[]);const o=[{title:"Today Revenue",iconClass:"wallet-solid",value:s.todayRevenue.value,valuePrefix:"₹",trend:s.todayRevenue.trend},{title:"Today Visitors",iconClass:"user-plus-solid",value:s.todayVisitors.value,valuePrefix:"",trend:s.todayVisitors.trend},{title:"Today Profit",iconClass:"arrow-down-to-line-solid",value:s.todayProfit.value,valuePrefix:"₹",trend:s.todayProfit.trend},{title:"Total Expenses",iconClass:"bag-shopping-solid",value:s.totalExpenses.value,valuePrefix:"₹",trend:s.totalExpenses.trend}];return e.jsx("div",{className:"grid grid-cols-1 h-full gap-6 md:grid-cols-2 xl:gap-8 3xl:grid-cols-4",children:o.map((a,l)=>e.jsx(A,{data:a,chartClass:"xl:w-[250px] 3xl:hidden min-[1800px]:block min-[1800px]:w-[110px] 5xl:w-[130px]"},l))})},K=({active:s,payload:t,label:r})=>s?e.jsxs("div",{className:"bg-peach p-2.5 rounded-md dark:shadow-md",children:[e.jsx("p",{className:"text-[18px] font-semibold !text-white mb-1",children:r}),e.jsxs("p",{className:"text-[15px] font-semibold text-white",children:["Sales: ₹",t[0].value]})]}):null,O=()=>{const{width:s}=m(),{theme:t}=j(),[r,o]=i.useState(d[0]),[a,l]=i.useState(null),p=k("salesAnalytics",50,"x");return i.useEffect(()=>{const n=setInterval(()=>{f[r.value].data.length>0&&(l(f[r.value].data),clearInterval(n))},100)},[r]),a?e.jsxs(x,{className:"card flex flex-col gap-[22px] h-[392px] xs:h-[315px] p-5 xs:p-6 md:h-full",children:[e.jsxs("div",{className:"flex flex-col gap-2.5 xs:flex-row xs:items-center xs:justify-between xs:gap-5",children:[e.jsx("h2",{children:"Sales Analytics"}),e.jsx("div",{className:"min-w-[105px]",children:e.jsx(v,{value:r,variant:"minimal",onChange:o,options:d})})]}),e.jsx("div",{className:"flex-1 overflow-hidden -mr-2 md:-ml-11 md:-mr-4",children:e.jsx(y,{width:"99%",height:"100%",id:"salesAnalytics",children:e.jsxs(C,{data:a,margin:{top:0,right:7,left:7,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"salesAnalyticsFill",x1:"-124.434",y1:"-94.766",x2:"-124.434",y2:"227.785",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"var(--peach)"}),e.jsx("stop",{offset:"1",stopColor:t==="light"?"white":"transparent",stopOpacity:"0.01"})]})}),e.jsx(F,{vertical:!1,horizontalPoints:p,strokeWidth:1,stroke:"var(--cartesian-grid)",strokeDasharray:"8 8"}),e.jsx(T,{dataKey:"name",dy:10,axisLine:!1,tickLine:!1,hide:s<768}),e.jsx(P,{tickCount:7,tickFormatter:n=>u(n,0),axisLine:!1,tickLine:!1,hide:s<768}),e.jsx(w,{cursor:{strokeDasharray:"8 8",stroke:"var(--peach)"},content:e.jsx(K,{})}),e.jsx(E,{type:"monotone",dataKey:"b",stroke:"var(--peach)",strokeWidth:3,strokeLinecap:"round",fill:"url(#salesAnalyticsFill)"})]})})})]}):e.jsx("div",{children:"Loading..."})},c=[{name:"General Service",data:{week:{products:1e3,profit:1e3},month:{products:1e3,profit:1e3},year:{products:1e3,profit:1e3}},color:"turquoise",darkAura:"#1B3838",lightAura:"#F4FFFF"},{name:"E-Sevai",data:{week:{products:1e3,profit:1e3},month:{products:1e3,profit:1e3},year:{products:1e3,profit:1e3}},color:"blue",darkAura:"#14344A",lightAura:"#F1F7FF"},{name:"Job Application Support",data:{week:{products:1e3,profit:1e3},month:{products:1e3,profit:1e3},year:{products:1e3,profit:1e3}},color:"yellow",darkAura:"#3B300A",lightAura:"#FFFBF0"},{name:"Travel Services",data:{week:{products:1e3,profit:1e3},month:{products:1e3,profit:1e3},year:{products:1e3,profit:1e3}},color:"peach",darkAura:"#3B300A",lightAura:"#FFFBF0"}],U=({active:s,payload:t})=>s&&t&&t.length?e.jsx("div",{className:"basic-tooltip",children:u(t[0].value,0,"₹")}):null,V=({item:s,period:t})=>{const{theme:r}=j(),o=()=>{const a=c.reduce((p,n)=>p+n.data[t].products,0);return(s.data[t].products/a*100).toFixed(2)};return e.jsxs("div",{className:"flex gap-2.5",children:[e.jsx("span",{className:"flex items-center justify-center w-[15px] h-[15px] rounded-full mt-1 shrink-0",style:{backgroundColor:r==="dark"?s.darkAura:s.lightAura},children:e.jsx("span",{className:`w-[7px] h-[7px] rounded-full bg-${s.color}`})}),e.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[e.jsxs("p",{className:"flex justify-between font-medium text-[15px] text-header",children:[s.name," (",o(),"%)",e.jsxs("span",{children:["₹",h(s.data[t].profit)]})]}),e.jsxs("p",{className:"uppercase text-xs text-label",children:[h(s.data[t].products)," Category Products"]})]})]})},$=()=>{const{width:s}=m(),[t,r]=i.useState(d[0]),o=()=>c.reduce((a,l)=>a+l.data[t.value].profit,0);return e.jsxs(x,{className:"card flex flex-col gap-4 p-5 h-full xs:p-6",children:[e.jsxs("div",{className:"flex flex-col gap-2.5 xs:flex-row xs:items-center xs:justify-between",children:[e.jsx("h2",{children:"Sales By Category"}),e.jsx("div",{className:"min-w-[105px]",children:e.jsx(v,{options:d,value:t,onChange:r})})]}),e.jsxs("div",{className:"flex flex-col items-start gap-6 flex-1 md:flex-row md:items-center md:gap-[65px]",children:[e.jsxs("div",{className:`relative overflow-hidden min-h-[240px] min-w-[240px] xs:min-w-[294px]
                     xs:min-h-[294px] m-auto md:m-0 md:w-[294px] md:h-[294px]`,children:[e.jsx(y,{width:"99%",height:"99%",children:e.jsxs(L,{children:[e.jsx(B,{data:c,dataKey:`data.${t.value}.profit`,nameKey:"name",cx:"50%",cy:"50%",outerRadius:s<414?118:140,innerRadius:95,strokeWidth:0,fill:"#8884d8",children:c.map((a,l)=>e.jsx(D,{fill:`var(--${a.color})`},l))}),e.jsx(w,{cursor:!1,content:e.jsx(U,{})})]})}),e.jsx("span",{className:"counter absolute-center",children:u(o(),0,"₹")})]}),e.jsx("div",{className:"flex flex-col flex-1 w-full gap-4",children:c.map((a,l)=>e.jsx(V,{item:a,period:t.value},l))})]})]})},W=()=>{const{width:s}=m(),[t,r]=i.useState("");return i.useEffect(()=>(window.addEventListener("resize",()=>{r("")}),()=>{window.removeEventListener("resize",()=>{r("")})}),[]),e.jsxs(x,{className:"card flex flex-col gap-4 p-5 xs:p-6 h-full",children:[e.jsx("h2",{children:"Transaction Details"}),s<768?e.jsx("div",{className:"flex flex-col gap-4",children:g.map((o,a)=>e.jsx(_,{product:o,active:t,setActive:r,index:a},a))}):e.jsx(R,{dataSource:g,columns:G,scroll:{y:230},rowKey:"id",showSorterTooltip:!1,pagination:!1})]})},Y="/assets/trending-2e89ceb2.webp",X=()=>e.jsxs(x,{className:"card relative h-[392px] p-6 overflow-hidden md:h-full",children:[e.jsx("img",{className:"absolute top-0 left-0 h-full",src:Y,alt:"Single Breasted Blazer"}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col items-start",children:[e.jsx("h2",{className:"mb-[18px] text-header-light",children:"Trending now"}),e.jsx("div",{className:"flex items-center justify-center h-9 backdrop-blur-md rounded-xl px-5",style:{background:"rgba(255, 255, 255, .3)"},children:e.jsx(z,{labelClass:"text-black",value:12,suffix:"%"})}),e.jsxs("div",{className:"flex flex-col items-start gap-2.5 mt-auto",children:[e.jsx(S,{className:"text-header-light font-bold text-[16px] md:text-[18px]",to:"/product",children:"Single Breasted Blazer"}),e.jsx("span",{className:"h3 !text-header-light",children:"$1499.99"})]})]})]}),q={statistics:e.jsx(I,{}),sales_analytics:e.jsx(O,{}),sales_by_category:e.jsx($,{}),top_selling:e.jsx(W,{}),trending_product:e.jsx(X,{})},Ae=()=>e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"AIMS Sales Dashboard"}),e.jsx(N,{id:"dashboard_a",widgets:q,cols:{xl:4,lg:3,md:2}})]});export{Ae as default};
