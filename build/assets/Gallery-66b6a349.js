import{Q as ie,r as A,e as Ee,g as vt,a3 as gt,b as ht,P as pt,j as k}from"./mui-c9524ebd.js";import{r as mt}from"./index-f014998d.js";import{d as yt,o as wt}from"./objectWithoutProperties-1081a088.js";import{d as bt}from"./index-a8e4dfb9.js";const St=ie(mt);function re(t,n){return t.map(function(a,e){return a+n[e]})}function oe(t,n){return t.map(function(a,e){return a-n[e]})}function ae(t){return Math.hypot.apply(Math,t)}function Ke(t,n){n===void 0&&(n=t);var a=ae(n),e=a===0?0:1/a,r=n.map(function(o){return e*o}),i=ae(t);return{distance:i,direction:r}}function Ne(t,n,a){var e=ae(n),r=e===0?0:1/e,i=a===0?0:1/a,o=i*e,s=n.map(function(c){return i*c}),u=n.map(function(c){return r*c}),l=ae(t);return{velocities:s,velocity:o,distance:l,direction:u}}function ge(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function Tt(t,n,a){return Math.max(n,Math.min(t,a))}function Et(t,n){return Math.pow(t,n*5)}function _e(t,n,a){return n===0||Math.abs(n)===1/0?Et(t,a):t*n*a/(n+a*t)}function we(t,n,a,e){return e===void 0&&(e=.15),e===0?Tt(t,n,a):t<n?-_e(n-t,a-n,e)+n:t>a?+_e(t-a,a-n,e)+a:t}function Oe(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _t(t,n,a){return n&&Oe(t.prototype,n),a&&Oe(t,a),t}function h(){return h=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t},h.apply(this,arguments)}function Y(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function z(t,n){if(t==null)return{};var a={},e=Object.keys(t),r,i;for(i=0;i<e.length;i++)r=e[i],!(n.indexOf(r)>=0)&&(a[r]=t[r]);return a}function y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t,n){if(t){if(typeof t=="string")return xe(t,n);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xe(t,n)}}function xe(t,n){(n==null||n>t.length)&&(n=t.length);for(var a=0,e=new Array(n);a<n;a++)e[a]=t[a];return e}function me(t,n){var a;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(a=Ot(t))||n&&t&&typeof t.length=="number"){a&&(t=a);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return a=t[Symbol.iterator](),a.next.bind(a)}function Re(){}function He(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.length===0?Re:n.length===1?n[0]:function(){for(var e,r=me(n),i;!(i=r()).done;){var o=i.value;e=o.apply(this,arguments)||e}return e}}function K(t,n){if(t===void 0){if(n===void 0)throw new Error("Must define fallback value if undefined is expected");t=n}return Array.isArray(t)?t:[t,t]}function Ie(t,n){return Object.assign({},n,t||{})}function he(t){if(typeof t=="function"){for(var n=arguments.length,a=new Array(n>1?n-1:0),e=1;e<n;e++)a[e-1]=arguments[e];return t.apply(void 0,a)}else return t}function se(t,n){t===void 0&&(t={});for(var a={},e=0,r=Object.entries(n);e<r.length;e++){var i=r[e],o=i[0],s=i[1];switch(typeof s){case"function":a[o]=s.call(a,t[o],o,t);break;case"object":a[o]=se(t[o],s);break;case"boolean":s&&(a[o]=t[o]);break}}return a}function xt(){try{return"constructor"in GestureEvent}catch{return!1}}function Be(){return typeof window<"u"&&"ontouchstart"in window}function It(){return typeof window<"u"&&"onpointerdown"in window}function Ye(t){return"pointerId"in t?null:t.type==="touchend"?t.changedTouches:t.targetTouches}function be(t){return Array.from(Ye(t)).map(function(n){return n.identifier})}function L(t){var n="buttons"in t?t.buttons:0,a=t.shiftKey,e=t.altKey,r=t.metaKey,i=t.ctrlKey;return{buttons:n,shiftKey:a,altKey:e,metaKey:r,ctrlKey:i}}var le=function(n){return n};function Z(t,n){n===void 0&&(n=le);var a=Ye(t),e=a?a[0]:t,r=e.clientX,i=e.clientY;return n([r,i])}function De(t,n,a){a===void 0&&(a=le);var e=Array.from(t.touches).filter(function(w){return n.includes(w.identifier)}),r=e[0],i=e[1];if(!r||!i)throw Error("The event doesn't have two pointers matching the pointerIds");var o=i.clientX-r.clientX,s=i.clientY-r.clientY,u=(i.clientX+r.clientX)/2,l=(i.clientY+r.clientY)/2,c=Math.hypot(o,s),f=-(Math.atan2(o,s)*180)/Math.PI,d=a([c,f]),m=a([u,l]);return{values:d,origin:m}}function Dt(t,n){n===void 0&&(n=le);var a=t.currentTarget,e=a.scrollX,r=a.scrollY,i=a.scrollLeft,o=a.scrollTop;return n([e||i||0,r||o||0])}var Ce=40,Pe=800;function ze(t,n){n===void 0&&(n=le);var a=t.deltaX,e=t.deltaY,r=t.deltaMode;return r===1?(a*=Ce,e*=Ce):r===2&&(a*=Pe,e*=Pe),n([a,e])}function Ge(t,n){return n===void 0&&(n=le),n([t.scale,t.rotation])}var Ct=180,Pt=.15,Gt=.5,Mt=50,jt=250,Ve={threshold:function(n){return n===void 0&&(n=0),K(n)},rubberband:function(n){switch(n===void 0&&(n=0),n){case!0:return K(Pt);case!1:return K(0);default:return K(n)}},enabled:function(n){return n===void 0&&(n=!0),n},triggerAllEvents:function(n){return n===void 0&&(n=!1),n},initial:function(n){return n===void 0&&(n=0),typeof n=="function"?n:K(n)},transform:!0},Se=h({},Ve,{axis:!0,lockDirection:function(n){return n===void 0&&(n=!1),n},bounds:function(n){if(n===void 0&&(n={}),typeof n=="function")return function(f){return Se.bounds(n(f))};var a=n,e=a.left,r=e===void 0?-1/0:e,i=a.right,o=i===void 0?1/0:i,s=a.top,u=s===void 0?-1/0:s,l=a.bottom,c=l===void 0?1/0:l;return[[r,o],[u,c]]}}),$t=typeof window<"u"&&window.document&&window.document.createElement,Lt={enabled:function(n){return n===void 0&&(n=!0),n},domTarget:!0,window:function(t){function n(a){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){return t===void 0&&(t=$t?window:void 0),t}),eventOptions:function(n){var a=n===void 0?{}:n,e=a.passive,r=e===void 0?!0:e,i=a.capture,o=i===void 0?!1:i;return{passive:r,capture:o}},transform:!0},kt=h({},Ve,{bounds:function(n,a,e){var r=e.distanceBounds,i=r===void 0?{}:r,o=e.angleBounds,s=o===void 0?{}:o,u=function(f){var d=Ie(he(i,f),{min:-1/0,max:1/0});return[d.min,d.max]},l=function(f){var d=Ie(he(s,f),{min:-1/0,max:1/0});return[d.min,d.max]};return typeof i!="function"&&typeof s!="function"?[u(),l()]:function(c){return[u(c),l(c)]}}}),At=h({},Se,{useTouch:function(n){n===void 0&&(n=!1);var a=Be(),e=It();return!!(n&&a||a&&!e)},experimental_preventWindowScrollY:function(n){return n===void 0&&(n=!1),n},threshold:function(n,a,e){var r=e.filterTaps,i=r===void 0?!1:r,o=e.lockDirection,s=o===void 0?!1:o,u=e.axis,l=u===void 0?void 0:u,c=K(n,i?3:s||l?1:0);return this.filterTaps=i,c},swipeVelocity:function(n){return n===void 0&&(n=Gt),K(n)},swipeDistance:function(n){return n===void 0&&(n=Mt),K(n)},swipeDuration:function(n){return n===void 0&&(n=jt),n},delay:function(n){switch(n===void 0&&(n=0),n){case!0:return Ct;case!1:return 0;default:return n}}});function V(t){return t===void 0&&(t={}),se(t,Lt)}function q(t){return t===void 0&&(t={}),se(t,Se)}function Xe(t){return t===void 0&&(t={}),se(t,kt)}function Fe(t){return t===void 0&&(t={}),se(t,At)}function Wt(t){var n=t.domTarget,a=t.eventOptions,e=t.window,r=t.enabled,i=z(t,["domTarget","eventOptions","window","enabled"]),o=V({domTarget:n,eventOptions:a,window:e,enabled:r});return o.move=q(i),o}function Kt(t){var n=t.domTarget,a=t.eventOptions,e=t.window,r=t.enabled,i=z(t,["domTarget","eventOptions","window","enabled"]),o=V({domTarget:n,eventOptions:a,window:e,enabled:r});return o.hover=h({enabled:!0},i),o}function Nt(t){var n=t.domTarget,a=t.eventOptions,e=t.window,r=t.enabled,i=z(t,["domTarget","eventOptions","window","enabled"]),o=V({domTarget:n,eventOptions:a,window:e,enabled:r});return o.drag=Fe(i),o}function Rt(t){var n=t.domTarget,a=t.eventOptions,e=t.window,r=t.enabled,i=z(t,["domTarget","eventOptions","window","enabled"]),o=V({domTarget:n,eventOptions:a,window:e,enabled:r});return o.pinch=Xe(i),o}function Ht(t){var n=t.domTarget,a=t.eventOptions,e=t.window,r=t.enabled,i=z(t,["domTarget","eventOptions","window","enabled"]),o=V({domTarget:n,eventOptions:a,window:e,enabled:r});return o.scroll=q(i),o}function Bt(t){var n=t.domTarget,a=t.eventOptions,e=t.window,r=t.enabled,i=z(t,["domTarget","eventOptions","window","enabled"]),o=V({domTarget:n,eventOptions:a,window:e,enabled:r});return o.wheel=q(i),o}function Yt(t,n){t===void 0&&(t={}),n===void 0&&(n=new Set);var a=t,e=a.drag,r=a.wheel,i=a.move,o=a.scroll,s=a.pinch,u=a.hover,l=a.eventOptions,c=a.window,f=a.transform,d=a.domTarget,m=a.enabled,w=V({domTarget:d,eventOptions:l,transform:f,window:c,enabled:m});return n.has("onDrag")&&(w.drag=Fe(e)),n.has("onWheel")&&(w.wheel=q(r)),n.has("onScroll")&&(w.scroll=q(o)),n.has("onMove")&&(w.move=q(i)),n.has("onPinch")&&(w.pinch=Xe(s)),n.has("onHover")&&(w.hover=h({enabled:!0},u)),w}function ee(t){return h({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Re,canceled:!1,memo:void 0,args:void 0},t)}function Ue(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},n=ee({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),a=ee({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),e=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=ee({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:n,pinch:a,wheel:e,move:r,scroll:i}}var G=new Map,zt=function(n){return n},Ze=function(){function t(a,e){var r=this;e===void 0&&(e=[]),this.controller=a,this.args=e,this.debounced=!0,this.setTimeout=function(i,o){var s;o===void 0&&(o=140),clearTimeout(r.controller.timeouts[r.stateKey]);for(var u=arguments.length,l=new Array(u>2?u-2:0),c=2;c<u;c++)l[c-2]=arguments[c];r.controller.timeouts[r.stateKey]=(s=window).setTimeout.apply(s,[i,o].concat(l))},this.clearTimeout=function(){clearTimeout(r.controller.timeouts[r.stateKey])},this.fireGestureHandler=function(i){if(i===void 0&&(i=!1),r.state._blocked)return r.debounced||(r.state._active=!1,r.clean()),null;if(!i&&!r.state.intentional&&!r.config.triggerAllEvents)return null;if(r.state.intentional){var o=r.state.active,s=r.state._active;r.state.active=s,r.state.first=s&&!o,r.state.last=o&&!s,r.controller.state.shared[r.ingKey]=s}var u=r.controller.pointerIds.size||r.controller.touchIds.size,l=r.controller.state.shared.buttons>0||u>0,c=h({},r.controller.state.shared,r.state,r.mapStateValues(r.state),{locked:!!document.pointerLockElement,touches:u,down:l}),f=r.handler(c);return r.state.memo=f!==void 0?f:r.state.memo,c},this.controller=a,this.args=e}var n=t.prototype;return n.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},n.updateGestureState=function(e){Object.assign(this.state,e)},n.checkIntentionality=function(e,r){return{_intentional:e,_blocked:!1}},n.getMovement=function(e){var r=this.config.rubberband,i=this.state,o=i._bounds,s=i._initial,u=i._active,l=i._intentional,c=i.lastOffset,f=i.movement,d=i._threshold,m=this.getInternalMovement(e,this.state),w=l[0]===!1?Me(m[0],d[0]):l[0],_=l[1]===!1?Me(m[1],d[1]):l[1],g=this.checkIntentionality([w,_],m);if(g._blocked)return h({},g,{_movement:m,delta:[0,0]});var p=g._intentional,T=m,b=[p[0]!==!1?m[0]-p[0]:0,p[1]!==!1?m[1]-p[1]:0],S=re(b,c),C=u?r:[0,0];return b=je(o,re(b,s),C),h({},g,{intentional:p[0]!==!1||p[1]!==!1,_initial:s,_movement:T,movement:b,values:e,offset:je(o,S,C),delta:oe(b,f)})},n.clean=function(){this.clearTimeout()},_t(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||zt}}]),t}();function Me(t,n){return Math.abs(t)>=n?ge(t)*n:!1}function je(t,n,a){var e=n[0],r=n[1],i=a[0],o=a[1],s=t[0],u=s[0],l=s[1],c=t[1],f=c[0],d=c[1];return[we(e,u,l,i),we(r,f,d,o)]}function D(t,n,a){var e=t.state,r=n.timeStamp,i=n.type,o=e.values,s=a?0:r-e.startTime;return{_lastEventType:i,event:n,timeStamp:r,elapsedTime:s,previous:o}}function B(t,n,a,e){var r=t.state,i=t.config,o=t.stateKey,s=t.args,u=t.transform,l=r.offset,c=a.timeStamp,f=i.initial,d=i.bounds,m=i.threshold,w=oe(u(m),u([0,0])).map(Math.abs),_=h({},Ue()[o],{_active:!0,args:s,values:n,initial:e??n,_threshold:w,offset:l,lastOffset:l,startTime:c});return h({},_,{_initial:he(f,_),_bounds:he(d,_)})}var Vt=function(n){var a=this;this.classes=n,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=Be(),this.supportsGestureEvents=xt(),this.bind=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var o={},s=me(a.classes),u;!(u=s()).done;){var l=u.value;new l(a,r).addBindings(o)}var c=function(m){O(o,m,function(w){return a.nativeRefs[m](h({},a.state.shared,{event:w,args:r}))})};for(var f in a.nativeRefs)c(f);return a.config.domTarget?Zt(a,o):qt(a,o)},this.effect=function(){return a.config.domTarget&&a.bind(),a.clean},this.clean=function(){var e=et(a.config),r=a.config.eventOptions;e&&ue(e,Je(a.domListeners),r),Object.values(a.timeouts).forEach(clearTimeout),Xt(a)},this.classes=n,this.state=Ue(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function qe(t,n){"pointerId"in n?t.pointerIds.add(n.pointerId):t.touchIds=new Set(be(n))}function Qe(t,n){"pointerId"in n?t.pointerIds.delete(n.pointerId):be(n).forEach(function(a){return t.touchIds.delete(a)})}function Xt(t){var n=t.config,a=n.window,e=n.eventOptions,r=t.windowListeners;if(a){for(var i in r){var o=r[i];ue(a,o,e)}t.windowListeners={}}}function Ft(t,n,a){var e=t.config,r=t.windowListeners;a===void 0&&(a=e.eventOptions),e.window&&(ue(e.window,r[n],a),delete r[n])}function Ut(t,n,a,e){var r=t.config,i=t.windowListeners;a===void 0&&(a=[]),e===void 0&&(e=r.eventOptions),r.window&&(ue(r.window,i[n],e),tt(r.window,i[n]=a,e))}function Zt(t,n){var a=t.config,e=t.domListeners,r=et(a);if(!r)throw new Error("domTarget must be defined");var i=a.eventOptions;ue(r,Je(e),i);for(var o=0,s=Object.entries(n);o<s.length;o++){var u=s[o],l=u[0],c=u[1],f=l.slice(2).toLowerCase();e.push([f,He.apply(void 0,c)])}tt(r,e,i)}function qt(t,n){for(var a=t.config,e={},r=a.eventOptions.capture?"Capture":"",i=0,o=Object.entries(n);i<o.length;i++){var s=o[i],u=s[0],l=s[1],c=Array.isArray(l)?l:[l],f=u+r;e[f]=He.apply(void 0,c)}return e}function Je(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function et(t){var n=t.domTarget;return n&&"current"in n?n.current:n}function O(t,n,a){t[n]||(t[n]=[]),t[n].push(a)}function tt(t,n,a){n===void 0&&(n=[]),a===void 0&&(a={});for(var e=me(n),r;!(r=e()).done;){var i=r.value,o=i[0],s=i[1];t.addEventListener(o,s,a)}}function ue(t,n,a){n===void 0&&(n=[]),a===void 0&&(a={});for(var e=me(n),r;!(r=e()).done;){var i=r.value,o=i[0],s=i[1];t.removeEventListener(o,s,a)}}function X(t,n,a){a===void 0&&(a={});var e=Jt(t),r=Ee.useMemo(function(){return new Vt(e)},[]);return r.config=n,r.handlers=t,r.nativeRefs=a,Ee.useEffect(r.effect,[]),r.config.domTarget?Qt:r.bind}function Qt(){}function Jt(t){var n=new Set;return t.drag&&n.add(G.get("drag")),t.wheel&&n.add(G.get("wheel")),t.scroll&&n.add(G.get("scroll")),t.move&&n.add(G.get("move")),t.pinch&&n.add(G.get("pinch")),t.hover&&n.add(G.get("hover")),n}var ye=function(t){Y(n,t);function n(){return t.apply(this,arguments)||this}var a=n.prototype;return a.getInternalMovement=function(r,i){return oe(r,i.initial)},a.checkIntentionality=function(r,i){if(r[0]===!1&&r[1]===!1)return{_intentional:r,axis:this.state.axis};var o=i.map(Math.abs),s=o[0],u=o[1],l=this.state.axis||(s>u?"x":s<u?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:r,_blocked:!1,axis:l}:l?this.config.axis&&l!==this.config.axis?{_intentional:r,_blocked:!0,axis:l}:(r[l==="x"?1:0]=!1,{_intentional:r,_blocked:!1,axis:l}):{_intentional:[!1,!1],_blocked:!1,axis:l}},a.getKinematics=function(r,i){var o=this.getMovement(r);if(!o._blocked){var s=i.timeStamp-this.state.timeStamp;Object.assign(o,Ne(o.movement,o.delta,s))}return o},a.mapStateValues=function(r){return{xy:r.values,vxvy:r.velocities}},n}(Ze),en=3;function $e(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}var nt=function(t){Y(n,t);function n(){var e;return e=t.apply(this,arguments)||this,e.ingKey="dragging",e.stateKey="drag",e.setPointerCapture=function(r){if(!(e.config.useTouch||document.pointerLockElement)){var i=r.target,o=r.pointerId;i&&"setPointerCapture"in i&&i.setPointerCapture(o),e.updateGestureState({_dragTarget:i,_dragPointerId:o})}},e.releasePointerCapture=function(){if(!(e.config.useTouch||document.pointerLockElement)){var r=e.state,i=r._dragTarget,o=r._dragPointerId;if(o&&i&&"releasePointerCapture"in i&&(!("hasPointerCapture"in i)||i.hasPointerCapture(o)))try{i.releasePointerCapture(o)}catch{}}},e.preventScroll=function(r){e.state._dragPreventScroll&&r.cancelable&&r.preventDefault()},e.getEventId=function(r){return e.config.useTouch?r.changedTouches[0].identifier:r.pointerId},e.isValidEvent=function(r){return e.state._pointerId===e.getEventId(r)},e.shouldPreventWindowScrollY=e.config.experimental_preventWindowScrollY&&e.controller.supportsTouchEvents,e.setUpWindowScrollDetection=function(r){$e(r),Ut(e.controller,e.stateKey,[["touchmove",e.preventScroll],["touchend",e.clean.bind(y(e))],["touchcancel",e.clean.bind(y(e))]],{passive:!1}),e.setTimeout(e.startDrag.bind(y(e)),250,r)},e.setUpDelayedDragTrigger=function(r){e.state._dragDelayed=!0,$e(r),e.setTimeout(e.startDrag.bind(y(e)),e.config.delay,r)},e.setStartState=function(r){var i=Z(r,e.transform);e.updateSharedState(L(r)),e.updateGestureState(h({},B(y(e),i,r),D(y(e),r,!0),{_pointerId:e.getEventId(r)})),e.updateGestureState(e.getMovement(i))},e.onDragStart=function(r){qe(e.controller,r),!(!e.enabled||e.state._active)&&(e.setStartState(r),e.setPointerCapture(r),e.shouldPreventWindowScrollY?e.setUpWindowScrollDetection(r):e.config.delay>0?e.setUpDelayedDragTrigger(r):e.startDrag(r,!0))},e.onDragChange=function(r){if(!(e.state.canceled||!e.state._active||!e.isValidEvent(r)||e.state._lastEventType===r.type&&r.timeStamp===e.state.timeStamp)){var i;if(document.pointerLockElement){var o=r.movementX,s=r.movementY;i=re(e.transform([o,s]),e.state.values)}else i=Z(r,e.transform);var u=e.getKinematics(i,r);if(!e.state._dragStarted){if(e.state._dragDelayed){e.startDrag(r);return}if(e.shouldPreventWindowScrollY)if(!e.state._dragPreventScroll&&u.axis)if(u.axis==="x")e.startDrag(r);else{e.state._active=!1;return}else return;else return}var l=L(r);e.updateSharedState(l);var c=D(y(e),r),f=ae(u._movement),d=e.state._dragIsTap;d&&f>=en&&(d=!1),e.updateGestureState(h({},c,u,{_dragIsTap:d})),e.fireGestureHandler()}},e.onDragEnd=function(r){if(Qe(e.controller,r),!!e.isValidEvent(r)&&(e.clean(),!!e.state._active)){e.state._active=!1;var i=e.state._dragIsTap,o=e.state.velocities,s=o[0],u=o[1],l=e.state.movement,c=l[0],f=l[1],d=e.state._intentional,m=d[0],w=d[1],_=e.config.swipeVelocity,g=_[0],p=_[1],T=e.config.swipeDistance,b=T[0],S=T[1],C=e.config.swipeDuration,v=h({},D(y(e),r),e.getMovement(e.state.values)),E=[0,0];v.elapsedTime<C&&(m!==!1&&Math.abs(s)>g&&Math.abs(c)>b&&(E[0]=ge(s)),w!==!1&&Math.abs(u)>p&&Math.abs(f)>S&&(E[1]=ge(u))),e.updateSharedState({buttons:0}),e.updateGestureState(h({},v,{tap:i,swipe:E})),e.fireGestureHandler(e.config.filterTaps&&i===!0)}},e.clean=function(){t.prototype.clean.call(y(e)),e.state._dragStarted=!1,e.releasePointerCapture(),Ft(e.controller,e.stateKey)},e.onCancel=function(){e.state.canceled||(e.updateGestureState({canceled:!0,_active:!1}),e.updateSharedState({buttons:0}),setTimeout(function(){return e.fireGestureHandler()},0))},e.onClick=function(r){e.state._dragIsTap||r.stopPropagation()},e}var a=n.prototype;return a.startDrag=function(r,i){i===void 0&&(i=!1),!(!this.state._active||this.state._dragStarted)&&(i||this.setStartState(r),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},a.addBindings=function(r){if(this.config.useTouch?(O(r,"onTouchStart",this.onDragStart),O(r,"onTouchMove",this.onDragChange),O(r,"onTouchEnd",this.onDragEnd),O(r,"onTouchCancel",this.onDragEnd)):(O(r,"onPointerDown",this.onDragStart),O(r,"onPointerMove",this.onDragChange),O(r,"onPointerUp",this.onDragEnd),O(r,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){var i=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";O(r,i,this.onClick)}},n}(ye);function Q(t,n){var a,e=[],r,i=!1;function o(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return i&&a===this&&n(u,e)||(r=t.apply(this,u),i=!0,a=this,e=u),r}return o}function ve(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var a,e,r;if(Array.isArray(t)){if(a=t.length,a!==n.length)return!1;for(e=a;e--!==0;)if(!ve(t[e],n[e]))return!1;return!0}var i;if(typeof Map=="function"&&t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i=t.entries();!(e=i.next()).done;)if(!n.has(e.value[0]))return!1;for(i=t.entries();!(e=i.next()).done;)if(!ve(e.value[1],n.get(e.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i=t.entries();!(e=i.next()).done;)if(!n.has(e.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(r=Object.keys(t),a=r.length,a!==Object.keys(n).length)return!1;for(e=a;e--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[e]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(e=a;e--!==0;)if(!(r[e]==="_owner"&&t.$$typeof)&&!ve(t[r[e]],n[r[e]]))return!1;return!0}return t!==t&&n!==n}function J(t,n){try{return ve(t,n)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}}function tn(t,n){n===void 0&&(n={}),G.set("drag",nt);var a=A.useRef();return a.current||(a.current=Q(Nt,J)),X({drag:t},a.current(n))}var nn=function(t){Y(n,t);function n(){return t.apply(this,arguments)||this}var a=n.prototype;return a.getInternalMovement=function(r,i){var o=i.values[1],s=r[0],u=r[1],l=u===void 0?o:u,c=l-o,f=i.turns;return Math.abs(c)>270&&(f+=ge(c)),oe([s,l-360*f],i.initial)},a.getKinematics=function(r,i){var o=this.getMovement(r),s=(r[1]-o._movement[1]-this.state.initial[1])/360,u=i.timeStamp-this.state.timeStamp,l=Ne(o.movement,o.delta,u),c=z(l,["distance","velocity"]);return h({turns:s},o,c)},a.mapStateValues=function(r){return{da:r.values,vdva:r.velocities}},n}(Ze),rn=7,an=260,rt=function(t){Y(n,t);function n(){var e;return e=t.apply(this,arguments)||this,e.ingKey="pinching",e.stateKey="pinch",e.onPinchStart=function(r){qe(e.controller,r);var i=e.controller.touchIds;if(e.enabled&&!(e.state._active&&e.state._pointerIds.every(function(c){return i.has(c)}))&&!(i.size<2)){var o=Array.from(i).slice(0,2),s=De(r,o,e.transform),u=s.values,l=s.origin;e.updateSharedState(L(r)),e.updateGestureState(h({},B(y(e),u,r),D(y(e),r,!0),{_pointerIds:o,cancel:e.onCancel,origin:l})),e.updateGestureState(e.getMovement(u)),e.fireGestureHandler()}},e.onPinchChange=function(r){var i=e.state,o=i.canceled,s=i._active;if(!(o||!s||r.timeStamp===e.state.timeStamp)){var u=L(r);e.updateSharedState(u);try{var l=De(r,e.state._pointerIds,e.transform),c=l.values,f=l.origin,d=e.getKinematics(c,r);e.updateGestureState(h({},D(y(e),r),d,{origin:f})),e.fireGestureHandler()}catch{e.onPinchEnd(r)}}},e.onPinchEnd=function(r){Qe(e.controller,r);var i=be(r);e.state._pointerIds.every(function(o){return!i.includes(o)})||(e.clean(),e.state._active&&(e.updateGestureState(h({},D(y(e),r),e.getMovement(e.state.values),{_active:!1})),e.fireGestureHandler()))},e.onCancel=function(){e.state.canceled||(e.updateGestureState({_active:!1,canceled:!0}),setTimeout(function(){return e.fireGestureHandler()},0))},e.onGestureStart=function(r){if(e.enabled){r.preventDefault();var i=Ge(r,e.transform);e.updateSharedState(L(r)),e.updateGestureState(h({},B(y(e),i,r),D(y(e),r,!0),{origin:[r.clientX,r.clientY],cancel:e.onCancel})),e.updateGestureState(e.getMovement(i)),e.fireGestureHandler()}},e.onGestureChange=function(r){var i=e.state,o=i.canceled,s=i._active;if(!(o||!s)){r.preventDefault();var u=L(r);e.updateSharedState(u);var l=Ge(r,e.transform);l[0]=(l[0]-e.state.event.scale)*an+e.state.values[0];var c=e.getKinematics(l,r);e.updateGestureState(h({},D(y(e),r),c,{origin:[r.clientX,r.clientY]})),e.fireGestureHandler()}},e.onGestureEnd=function(r){e.clean(),e.state._active&&(e.updateGestureState(h({},D(y(e),r),e.getMovement(e.state.values),{_active:!1,origin:[r.clientX,r.clientY]})),e.fireGestureHandler())},e.wheelShouldRun=function(r){return e.enabled&&r.ctrlKey},e.getWheelValuesFromEvent=function(r){var i=ze(r,e.transform),o=i[1],s=e.state.values,u=s[0],l=s[1],c=-o*rn,f=u+c,d=l!==void 0?l:0;return{values:[f,d],origin:[r.clientX,r.clientY],delta:[c,d]}},e.onWheel=function(r){e.wheelShouldRun(r)&&(e.setTimeout(e.onWheelEnd),e.state._active?e.onWheelChange(r):e.onWheelStart(r))},e.onWheelStart=function(r){var i=e.getWheelValuesFromEvent(r),o=i.values,s=i.delta,u=i.origin;r.cancelable&&r.preventDefault(),e.updateSharedState(L(r)),e.updateGestureState(h({},B(y(e),o,r,e.state.values),D(y(e),r,!0),{offset:o,delta:s,origin:u})),e.updateGestureState(e.getMovement(o)),e.fireGestureHandler()},e.onWheelChange=function(r){r.cancelable&&r.preventDefault(),e.updateSharedState(L(r));var i=e.getWheelValuesFromEvent(r),o=i.values,s=i.origin,u=i.delta;e.updateGestureState(h({},D(y(e),r),e.getKinematics(o,r),{origin:s,delta:u})),e.fireGestureHandler()},e.onWheelEnd=function(){e.clean(),e.state._active&&(e.state._active=!1,e.updateGestureState(e.getMovement(e.state.values)),e.fireGestureHandler())},e}var a=n.prototype;return a.addBindings=function(r){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(O(r,"onGestureStart",this.onGestureStart),O(r,"onGestureChange",this.onGestureChange),O(r,"onGestureEnd",this.onGestureEnd)):(O(r,"onTouchStart",this.onPinchStart),O(r,"onTouchMove",this.onPinchChange),O(r,"onTouchEnd",this.onPinchEnd),O(r,"onTouchCancel",this.onPinchEnd),O(r,"onWheel",this.onWheel))},n}(nn);function on(t,n){n===void 0&&(n={}),G.set("pinch",rt);var a=A.useRef();return a.current||(a.current=Q(Rt,J)),X({pinch:t},a.current(n))}var at=function(t){Y(n,t);function n(){var e;return e=t.apply(this,arguments)||this,e.ingKey="wheeling",e.stateKey="wheel",e.debounced=!0,e.handleEvent=function(r){if(!(r.ctrlKey&&"pinch"in e.controller.handlers)&&e.enabled){e.setTimeout(e.onEnd),e.updateSharedState(L(r));var i=re(ze(r,e.transform),e.state.values);if(e.state._active)e.updateGestureState(h({},D(y(e),r),e.getKinematics(i,r)));else{e.updateGestureState(h({},B(y(e),i,r,e.state.values),D(y(e),r,!0)));var o=e.getMovement(i),s=Ke(o.delta);e.updateGestureState(o),e.updateGestureState(s)}e.fireGestureHandler()}},e.onEnd=function(){if(e.clean(),!!e.state._active){var r=e.getMovement(e.state.values);e.updateGestureState(r),e.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),e.fireGestureHandler()}},e}var a=n.prototype;return a.addBindings=function(r){O(r,"onWheel",this.handleEvent)},n}(ye);function sn(t,n){n===void 0&&(n={}),G.set("wheel",at);var a=A.useRef();return a.current||(a.current=Q(Bt,J)),X({wheel:t},a.current(n))}var pe=function(t){Y(n,t);function n(){var e;return e=t.apply(this,arguments)||this,e.ingKey="moving",e.stateKey="move",e.debounced=!0,e.onMove=function(r){e.enabled&&(e.setTimeout(e.onMoveEnd),e.state._active?e.onMoveChange(r):e.onMoveStart(r))},e.onMoveStart=function(r){e.updateSharedState(L(r));var i=Z(r,e.transform);e.updateGestureState(h({},B(y(e),i,r),D(y(e),r,!0))),e.updateGestureState(e.getMovement(i)),e.fireGestureHandler()},e.onMoveChange=function(r){e.updateSharedState(L(r));var i=Z(r,e.transform);e.updateGestureState(h({},D(y(e),r),e.getKinematics(i,r))),e.fireGestureHandler()},e.onMoveEnd=function(){if(e.clean(),!!e.state._active){var r=e.state.values;e.updateGestureState(e.getMovement(r)),e.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),e.fireGestureHandler()}},e.hoverTransform=function(){return e.controller.config.hover.transform||e.controller.config.transform},e.onPointerEnter=function(r){if(e.controller.state.shared.hovering=!0,!!e.controller.config.enabled){if(e.controller.config.hover.enabled){var i=Z(r,e.hoverTransform()),o=h({},e.controller.state.shared,e.state,D(y(e),r,!0),{args:e.args,values:i,active:!0,hovering:!0});e.controller.handlers.hover(h({},o,e.mapStateValues(o)))}"move"in e.controller.handlers&&e.onMoveStart(r)}},e.onPointerLeave=function(r){if(e.controller.state.shared.hovering=!1,"move"in e.controller.handlers&&e.onMoveEnd(),!!e.controller.config.hover.enabled){var i=Z(r,e.hoverTransform()),o=h({},e.controller.state.shared,e.state,D(y(e),r),{args:e.args,values:i,active:!1});e.controller.handlers.hover(h({},o,e.mapStateValues(o)))}},e}var a=n.prototype;return a.addBindings=function(r){"move"in this.controller.handlers&&O(r,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(O(r,"onPointerEnter",this.onPointerEnter),O(r,"onPointerLeave",this.onPointerLeave))},n}(ye);function ln(t,n){n===void 0&&(n={}),G.set("move",pe);var a=A.useRef();return a.current||(a.current=Q(Wt,J)),X({move:t},a.current(n))}function un(t,n){n===void 0&&(n={}),G.set("hover",pe);var a=A.useRef();return a.current||(a.current=Q(Kt,J)),X({hover:t},a.current(n))}var it=function(t){Y(n,t);function n(){var e;return e=t.apply(this,arguments)||this,e.ingKey="scrolling",e.stateKey="scroll",e.debounced=!0,e.handleEvent=function(r){if(e.enabled){e.clearTimeout(),e.setTimeout(e.onEnd);var i=Dt(r,e.transform);if(e.updateSharedState(L(r)),e.state._active)e.updateGestureState(h({},D(y(e),r),e.getKinematics(i,r)));else{e.updateGestureState(h({},B(y(e),i,r,e.state.values),D(y(e),r,!0)));var o=e.getMovement(i),s=Ke(o.delta);e.updateGestureState(o),e.updateGestureState(s)}e.fireGestureHandler()}},e.onEnd=function(){e.clean(),e.state._active&&(e.updateGestureState(h({},e.getMovement(e.state.values),{_active:!1,velocities:[0,0],velocity:0})),e.fireGestureHandler())},e}var a=n.prototype;return a.addBindings=function(r){O(r,"onScroll",this.handleEvent)},n}(ye);function cn(t,n){n===void 0&&(n={}),G.set("scroll",it);var a=A.useRef();return a.current||(a.current=Q(Ht,J)),X({scroll:t},a.current(n))}var dn=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function fn(t){var n={},a={},e=new Set;for(var r in t)dn.test(r)?(e.add(RegExp.lastMatch),a[r]=t[r]):n[r]=t[r];return[a,n,e]}function vn(t,n){n===void 0&&(n={});var a=fn(t),e=a[0],r=a[1],i=a[2];G.set("drag",nt),G.set("hover",pe),G.set("move",pe),G.set("pinch",rt),G.set("scroll",it),G.set("wheel",at);var o=Yt(n,i),s={};return i.has("onDrag")&&(s.drag=te(e,"onDrag")),i.has("onWheel")&&(s.wheel=te(e,"onWheel")),i.has("onScroll")&&(s.scroll=te(e,"onScroll")),i.has("onMove")&&(s.move=te(e,"onMove")),i.has("onPinch")&&(s.pinch=te(e,"onPinch")),i.has("onHover")&&(s.hover=e.onHover),X(s,o,r)}function te(t,n){var a=n+"Start",e=n+"End",r=function(o){var s=void 0;return o.first&&a in t&&t[a](o),n in t&&(s=t[n](o)),o.last&&e in t&&t[e](o),s};return r}const gn=Object.freeze(Object.defineProperty({__proto__:null,addV:re,rubberbandIfOutOfBounds:we,subV:oe,useDrag:tn,useGesture:vn,useHover:un,useMove:ln,usePinch:on,useScroll:cn,useWheel:sn},Symbol.toStringTag,{value:"Module"})),hn=ie(gn),pn=ie(yt),mn=ie(wt),yn=ie(bt);var $=A,wn=gt,N=St,ot=hn,bn=pn,Sn=mn,st=yn,Tn=ht;function ce(t){return t&&t.__esModule?t:{default:t}}function En(t){if(t&&t.__esModule)return t;var n=Object.create(null);return t&&Object.keys(t).forEach(function(a){if(a!=="default"){var e=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,e.get?e:{enumerable:!0,get:function(){return t[a]}})}}),n.default=t,Object.freeze(n)}var x=En($),lt=ce(wn),ne=ce(bn),_n=ce(Sn),W=ce(st),On=ce(Tn);const Le=t=>{var d;let{currentTranslate:[n,a],imageRef:e,pinchDelta:r,scale:i,touchOrigin:[o,s]}=t;if(!(e!=null&&e.current))return[0,0];const{height:u,left:l,top:c,width:f}=(d=e.current)==null?void 0:d.getBoundingClientRect();return[-((o-l-f/2)/i)*r+n,-((s-c-u/2)/i)*r+a]},ke=t=>{var s;if(!t.current)return!1;const{bottom:n,left:a,right:e,top:r}=(s=t.current)==null?void 0:s.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return a>.5*o||r>.5*i||e<.5*o||n<.5*i},xn=["style"];function Ae(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,e)}return a}function fe(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ae(Object(a),!0).forEach(function(e){ne.default(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ae(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const H={pinching:!1,scale:1,translateX:0,translateY:0},ut=t=>{let{imgProps:{style:n},inline:a,isCurrentImage:e,pagerHeight:r,pagerIsDragging:i,setDisableDrag:o,singleClickToZoom:s}=t,u=_n.default(t.imgProps,xn);const[l,c]=$.useState(!1),f=$.useRef(null),[{scale:d,translateX:m,translateY:w},_]=N.useSpring(()=>fe(fe({},H),{},{onChange:(g,p)=>{(g.value.scale<1||!g.value.pinching)&&p.start(H),g.value.scale>1&&ke(f)&&p.start(H)},onRest:(g,p)=>{g.value.scale===1&&(p.start(H),o(!1))}}));return $.useEffect(()=>{e||d.get()===1||_.start(H)},[e,d,_]),ot.useGesture({onDrag:g=>{let{cancel:p,first:T,memo:b={initialTranslateX:0,initialTranslateY:0},movement:[S,C],pinching:v,tap:E,touches:M}=g;if(!(i||d.get()===1||E||(S&&C&&!l&&c(!0),M>1||v||d.get()<=1)))return d.get()>1&&ke(f)?void p():T?{initialTranslateX:m.get(),initialTranslateY:w.get()}:(_.start({translateX:b.initialTranslateX+S,translateY:b.initialTranslateY+C}),b)},onDragEnd:g=>{let{memo:p}=g;p!==void 0&&setTimeout(()=>c(!1),100)},onPinch:g=>{let{cancel:p,ctrlKey:T,event:b,last:S,movement:[C],origin:[v,E]}=g;if(i)return;if(o(!0),C&&!l&&c(!0),S)return void p();const M=T?1e3:250,P=d.get()+C/M,j=P-d.get();let I=[v,E];"clientX"in b&&"clientY"in b&&T&&(I=[b.clientX,b.clientY]);const[R,F]=Le({currentTranslate:[m.get(),w.get()],imageRef:f,pinchDelta:j,scale:d.get(),touchOrigin:I});P<.5?_.start({pinching:!0,scale:.5}):P>3?_.start({pinching:!0,scale:3}):_.start({pinching:!0,scale:P,translateX:R,translateY:F})},onPinchEnd:()=>{i||(d.get()>1?o(!0):_.start(H),setTimeout(()=>c(!1),100))}},{domTarget:f,drag:{filterTaps:!0},enabled:!a,eventOptions:{passive:!1}}),(g=>{let{enabled:p=!0,latency:T=300,onDoubleClick:b=()=>null,onSingleClick:S=()=>null,ref:C}=g;$.useEffect(()=>{const v=C.current;let E,M=0;const P=j=>{p&&(M+=1,E=setTimeout(()=>{M===1?S(j):M===2&&b(j),M=0},T))};return v==null||v.addEventListener("click",P),()=>{v==null||v.removeEventListener("click",P),E&&clearTimeout(E)}})})({[s?"onSingleClick":"onDoubleClick"]:g=>{if(i||l)return void g.stopPropagation();if(d.get()!==1)return void _.start(H);const{clientX:p,clientY:T}=g,b=d.get()+1,S=b-d.get(),[C,v]=Le({currentTranslate:[m.get(),w.get()],imageRef:f,pinchDelta:S,scale:d.get(),touchOrigin:[p,T]});o(!0),_.start({pinching:!0,scale:b,translateX:C,translateY:v})},enabled:!a,latency:s?0:200,ref:f}),x.default.createElement(In,lt.default({$inline:a,className:"lightbox-image",draggable:"false",onClick:g=>{g.stopPropagation(),g.nativeEvent.stopImmediatePropagation()},onDragStart:g=>{g.preventDefault()},ref:f,style:fe(fe({},n),{},{maxHeight:r,transform:N.to([d,m,w],(g,p,T)=>`translate(${p}px, ${T}px) scale(${g})`)},e&&{willChange:"transform"})},u))};ut.displayName="Image";const In=W.default(N.animated.img)`
    width: auto;
    height: auto;
    max-width: 100%;
    user-select: none;
    touch-action: ${t=>{let{$inline:n}=t;return n?"pan-y":"none"}};
    ::selection {
        background: none;
    }
`,ct=t=>{let{currentIndex:n,images:a,imageStageHeight:e,imageStageWidth:r,inline:i,onClose:o,onNext:s,onPrev:u,renderImageOverlay:l,singleClickToZoom:c}=t;const f=$.useRef(!0),[d,m]=$.useState(!1),[w,_]=$.useState("100%"),[g,p]=$.useState(!1);$.useEffect(()=>{const v=i?e:e-50;v!==w&&_(v)},[i,w,e]);const T=x.default.useCallback(function(v){const E=(v-n)*r+(arguments.length>1&&arguments[1]!==void 0&&arguments[1]&&arguments.length>2&&arguments[2]!==void 0?arguments[2]:0);return v<n-1||v>n+1?{display:"none",x:E}:{display:"flex",x:E}},[n,r]),[b,S]=N.useSprings(a.length,v=>T(v));$.useEffect(()=>{f.current?f.current=!1:S.start(v=>T(v))},[n,T,S]);const C=ot.useGesture({onDrag:v=>{let{active:E,cancel:M,direction:[P],distance:j,down:I,movement:[R],tap:F,touches:dt,velocity:ft}=v;if(d||R===0||F)return;g||p(!0);const Te=Math.abs(P)>.7;if((I&&Te&&j>r/3.5||I&&Te&&ft>2)&&E){const de=P>0?-1:1;return M(),void(de>0?s():de<0&&u())}dt>1?M():S.start(de=>T(de,I,R))},onDragEnd:()=>{g&&(S.start(v=>T(v)),setTimeout(()=>p(!1),100))},onWheel:v=>{let{ctrlKey:E,direction:[M,P],velocity:j}=v;if(!(E||d||j===0)&&(g||p(!0),j>1.1)){const I=M+P>0?-1:1;I>0?s():I<0&&u()}},onWheelEnd:()=>{S.start(v=>T(v)),setTimeout(()=>p(!1),100)}},{drag:{filterTaps:!0},wheel:{enabled:!i}});return x.default.createElement(Dn,null,b.map((v,E)=>{let{display:M,x:P}=v;return x.default.createElement(Gn,lt.default({$inline:i},C(),{className:"lightbox-image-pager",key:E,onClick:()=>{if(o)return Math.abs(P.get())<1&&!d&&o()},role:"presentation",style:{display:M,transform:P.to(j=>`translateX(${j}px)`)}}),x.default.createElement(Pn,null,x.default.createElement(Cn,null,x.default.createElement(Mn,{$inline:i,onClick:j=>{j.stopPropagation(),j.nativeEvent.stopImmediatePropagation()}},x.default.createElement(ut,{imgProps:a[E],inline:i,isCurrentImage:E===n,pagerHeight:w,pagerIsDragging:g,setDisableDrag:m,singleClickToZoom:c}),l()))))}))};ct.displayName="ImagePager";const Dn=W.default.div`
    height: 100%;
    width: 100%;
`,Cn=W.default.div`
    display: flex;
    justify-content: center;
    align-items: center;
`,Pn=W.default.div`
    width: 100%;
    display: flex;
    justify-content: center;
`,Gn=W.default(N.animated.span)`
    position: absolute;
    top: 0px;
    left: 0px;
    right: 0px;
    bottom: 0px;
    height: 100%;
    width: 100%;
    will-change: transform;
    touch-action: ${t=>{let{$inline:n}=t;return n?"pan-y":"none"}};
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
`,Mn=W.default.div`
    position: relative;
    touch-action: ${t=>{let{$inline:n}=t;return n?"pan-y":"none"}};
    user-select: none;
    display: flex;
    justify-content: center;
    width: 100%;
`,jn=t=>{let{currentIndex:n,images:a}=t;return x.createElement($n,null,a.map((e,r)=>{let{alt:i,src:o}=e;return x.createElement(Ln,{$isCurrentImage:r===n,alt:i,key:`${i}-${o}-${r}`,src:o})}))},$n=W.default.div`
    width: 100%;
    height: inherit;
`,Ln=W.default.img`
    ${t=>{let{$isCurrentImage:n}=t;return!n&&st.css`
            visibility: hidden;
            display: none;
        `}}
    height:100%;
    width: 100%;
    object-fit: contain;
`,kn=t=>{let{className:n="",currentIndex:a,images:e,inline:r,onClose:i,onNext:o,onPrev:s,renderImageOverlay:u,renderNextButton:l,renderPrevButton:c,singleClickToZoom:f}=t;const d=a>0,m=a+1<e.length,w=m?o:()=>null,_=d?s:()=>null,[{height:g,width:p},T]=(()=>{var P,j;const b=$.useRef(null),[S,C]=$.useState(null),[v,E]=$.useState({height:((P=b.current)==null?void 0:P.clientHeight)||0,width:((j=b.current)==null?void 0:j.clientWidth)||0}),M=$.useCallback(I=>{I!==null&&(C(I),E({height:I.clientHeight,width:I.clientWidth}))},[]);return $.useEffect(()=>{const I=()=>{if(S){const R=S.clientHeight,F=S.clientWidth;R===v.height&&F===v.width||E({height:R,width:F})}};return window.addEventListener("resize",I),window.addEventListener("orientationchange",I),()=>{window.removeEventListener("resize",I),window.removeEventListener("orientationchange",I)}},[S,v.height,v.width]),[v,M]})();return x.default.createElement(An,{className:n,"data-testid":"lightbox-image-stage",ref:T},c({canPrev:d}),p?x.default.createElement(ct,{currentIndex:a,images:e,imageStageHeight:g,imageStageWidth:p,inline:r,onClose:i,onNext:w,onPrev:_,renderImageOverlay:u,singleClickToZoom:f}):r?x.default.createElement(jn,{currentIndex:a,images:e}):null,l({canNext:m}))},An=W.default.div`
    position: relative;
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
`;function We(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,e)}return a}function U(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?We(Object(a),!0).forEach(function(e){ne.default(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}const Wn=t=>{let{children:n,className:a,isOpen:e,pageTransitionConfig:r,style:i}=t;const o={config:U(U({},N.config.default),{},{friction:32,mass:1,tension:320}),enter:{opacity:1,transform:"scale(1)"},from:{opacity:0,transform:"scale(0.75)"},leave:{opacity:0,transform:"scale(0.75)"}},s=N.useTransition(e,U(U({},o),r));return x.default.createElement(x.default.Fragment,null,s((u,l)=>l&&x.default.createElement(Kn,{className:"lightbox-container"+(a?` ${a}`:""),"data-testid":"lightbox-container",style:U(U({},u),i)},n)))},Kn=W.default(N.animated.div)`
    display: flex;
    flex-direction: column;
    position: fixed;
    z-index: 400;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
`;class Nn extends x.default.Component{constructor(){super(...arguments),ne.default(this,"portalContainer",void 0),ne.default(this,"body",void 0),ne.default(this,"preventWheel",n=>n.preventDefault())}componentDidMount(){this.body=document.body,this.portalContainer=document.createElement("div"),this.portalContainer.setAttribute("class","lightbox-portal"),this.body.appendChild(this.portalContainer),this.forceUpdate(),this.portalContainer.addEventListener("wheel",this.preventWheel)}componentWillUnmount(){this.portalContainer.removeEventListener("wheel",this.preventWheel),this.body.removeChild(this.portalContainer)}render(){if(this.portalContainer===void 0)return null;const{children:n}=this.props;return x.default.createElement(x.default.Fragment,null,On.default.createPortal(n,this.portalContainer))}}var Rn=t=>{let{className:n="",currentIndex:a,images:e=[],inline:r=!1,isOpen:i,onClose:o,onNext:s,onPrev:u,pageTransitionConfig:l=null,renderFooter:c=()=>null,renderHeader:f=()=>null,renderImageOverlay:d=()=>null,renderNextButton:m=()=>null,renderPrevButton:w=()=>null,singleClickToZoom:_=!1,style:g={}}=t;$.useEffect(()=>{const T=S=>{i&&["ArrowUp","ArrowDown","End","Home","PageUp","PageDown"].includes(S.key)&&S.preventDefault()},b=S=>{if(i)switch(S.key){case"ArrowLeft":u();break;case"ArrowRight":s();break;case"Escape":o&&o();break;default:S.preventDefault()}};return document.addEventListener("keyup",b),document.addEventListener("keydown",T),()=>{document.removeEventListener("keyup",b),document.removeEventListener("keydown",T)}});const p=x.default.createElement(kn,{currentIndex:a,images:e,inline:r,onClose:o,onNext:s,onPrev:u,renderImageOverlay:d,renderNextButton:m,renderPrevButton:w,singleClickToZoom:_});return r?p:x.default.createElement(Nn,null,x.default.createElement(Wn,{className:n,isOpen:i,pageTransitionConfig:l,style:g},f(),p,c()))};const Hn=vt(Rn),Bn=({images:t})=>{const[n,a]=A.useState(0),[e,r]=A.useState(!1),i=()=>n>0&&a(n-1),o=()=>n+1<t.length&&a(n+1),s=u=>{a(u),r(!0)};return A.useEffect(()=>(window.addEventListener("resize",()=>{r(!1)}),()=>{window.removeEventListener("resize",()=>{r(!1)})}),[]),k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.map((u,l)=>k.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden cursor-pointer",onClick:()=>s(l),children:k.jsx("img",{className:"h-full",src:u.src,alt:"gallery item"})},l))}),k.jsx(Hn,{isOpen:e,onPrev:i,onNext:o,renderPrevButton:()=>k.jsx("button",{className:"lightbox-arrow lightbox-arrow--left",onClick:i,"aria-label":"Previous image",disabled:n===0,children:k.jsx("i",{className:"icon-chevron-left-regular"})}),renderNextButton:()=>k.jsx("button",{className:"lightbox-arrow lightbox-arrow--right",onClick:o,"aria-label":"Next image",disabled:n+1===t.length,children:k.jsx("i",{className:"icon-chevron-right-regular"})}),pageTransitionConfig:{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{duration:300}},onClose:()=>r(!1),currentIndex:n,images:t})]})};Bn.propTypes={images:pt.array};export{Bn as G};
