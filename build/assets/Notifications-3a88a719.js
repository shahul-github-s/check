import{R as a,j as e}from"./mui-109ef935.js";import{S as m}from"./Spring-680b1b2f.js";import"./BasicCheckbox-6f18c892.js";import{G as p}from"./Gallery-8092a05e.js";import"./index-0cd16d31.js";import"./objectWithoutProperties-ee9c3b50.js";const d=({data:s,index:r,total:i})=>e.jsxs(m,{className:`border-b pb-4 ${r!==i-1,""}`,type:"slideUp",index:r,children:[e.jsx("p",{className:"flex items-center gap-4 mb-2",children:s.read?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"uppercase text-label text-[14px] font-semibold",children:s.date}),e.jsx("span",{className:"text-label",children:s.time})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"uppercase text-turquoise text-[14px] font-semibold",children:"New"}),e.jsxs("span",{className:"text-label text-xs font-medium",children:[s.date," ",s.time]})]})}),e.jsx("div",{className:"flex justify-between text-label gap-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-header text-[15px] font-semibold mb-1",children:s.title}),e.jsx("p",{className:"text-xs mb-2",children:s.preview}),s.type==="order"?e.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[e.jsxs("p",{children:["Customer: ",s.customer]}),e.jsxs("p",{children:["Amount: $",s.amount.toFixed(2)]})]}):null,s.type==="review"?e.jsxs("div",{className:"flex flex-col gap-2 items-start text-xs",children:[e.jsx("p",{className:"max-w-[311px]",children:s.preview}),s.media.length>0&&e.jsx(p,{images:s.media})]}):null]})})]}),b=()=>{const[s,r]=a.useState([]),[i,o]=a.useState(!0),n=async()=>{try{const l=await fetch("https://script.google.com/macros/s/AKfycbyVu1E78y5755XSEr1Re6Bb0ykPYV7iVFbr8jFbk3W5_u4-uP2YoN82raIeawQjMP58ng/exec");if(!l.ok)throw new Error("Network response was not ok");const x=(await l.json()).filter(t=>t.date&&t.time&&t.title&&t.preview).map(t=>({...t,media:t.media?[{src:t.media,alt:"company logo"}]:[]}));r(x)}catch(l){console.error("Error fetching notifications:",l)}finally{o(!1)}};return a.useEffect(()=>{n()},[]),e.jsxs("div",{className:"flex flex-col gap-5 bg-widget w-[288px] h-[475px] rounded-3xl border shadow-lg xs:w-[360px]",children:[e.jsx("div",{className:"flex items-center justify-between p-5 !pb-0 xs:p-6",children:e.jsx("h2",{className:"flex items-center gap-2",children:"Notifications"})}),e.jsx("div",{className:"overflow-y-auto with-scrollbar",children:e.jsx("div",{className:"flex flex-col flex-1 gap-4 p-5 !pt-0 xs:p-6",children:i?e.jsx("p",{children:"Loading..."}):s.length===0?e.jsx("p",{children:"No notifications available."}):s.map((l,c)=>e.jsx(d,{data:l,index:c,total:s.length},l.id))})})]})};export{b as default};
