import{R as c,j as e}from"./mui-0cba0ffe.js";import{S as n}from"./Spring-36ff1ca8.js";import{B as m}from"./BasicCheckbox-ec012f8b.js";import{G as d}from"./Gallery-083f7ec5.js";import{I as p}from"./IconButton-b3458e52.js";import"./index-d498fdfb.js";import"./objectWithoutProperties-779f62c6.js";const f=({data:s,index:r,total:a})=>e.jsxs(n,{className:`border-b pb-4 ${r!==a-1,""}`,type:"slideUp",index:r,children:[e.jsx("p",{className:"flex items-center gap-4 mb-2",children:s.read?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"uppercase text-label text-[14px] font-semibold",children:s.date}),e.jsx("span",{className:"text-label",children:s.time})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"uppercase text-turquoise text-[14px] font-semibold",children:"New"}),e.jsxs("span",{className:"text-label text-xs font-medium",children:[s.date," ",s.time]})]})}),e.jsxs("div",{className:"flex justify-between text-label gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-header text-[15px] font-semibold mb-1",children:s.title}),e.jsx("p",{className:"text-xs mb-2",children:s.preview}),s.type==="order"?e.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[e.jsxs("p",{children:["Customer: ",s.customer]}),e.jsxs("p",{children:["Amount: $",s.amount.toFixed(2)]})]}):null,s.type==="review"?e.jsxs("div",{className:"flex flex-col gap-2 items-start text-xs",children:[e.jsx("p",{className:"max-w-[311px]",children:s.preview}),s.media.length>0&&e.jsx(d,{images:s.media})]}):null]}),e.jsx(m,{id:s.id,labelClass:"!border-border !bg-[var(--header-dark)] dark:!bg-widget"})]})]}),v=()=>{const[s,r]=c.useState([]),[a,o]=c.useState(!0);return c.useEffect(()=>{(async()=>{try{const x=(await(await fetch("https://script.google.com/macros/s/AKfycbyVu1E78y5755XSEr1Re6Bb0ykPYV7iVFbr8jFbk3W5_u4-uP2YoN82raIeawQjMP58ng/exec")).json()).filter(t=>t.date&&t.time&&t.title&&t.preview).map(t=>({...t,media:t.media?[{src:t.media,alt:"company logo"}]:[]}));r(x)}catch(i){console.error("Error fetching notifications:",i)}finally{o(!1)}})()},[]),e.jsxs("div",{className:"flex flex-col gap-5 bg-widget w-[288px] h-[475px] rounded-3xl border shadow-lg xs:w-[360px]",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 !pb-0 xs:p-6",children:[e.jsxs("h2",{className:"flex items-center gap-2",children:["Notifications",s.filter(l=>!l.read).length>0&&e.jsx("span",{className:"bg-red w-6 h-6 rounded-full flex items-center justify-center text-white text-sm",children:e.jsx("span",{className:"-mt-[1px]",children:s.filter(l=>!l.read).length})})]}),e.jsx(p,{})]}),e.jsx("div",{className:"overflow-y-auto with-scrollbar",children:e.jsx("div",{className:"flex flex-col flex-1 gap-4 p-5 !pt-0 xs:p-6",children:a?e.jsx("p",{children:"Loading..."}):s.map((l,i)=>e.jsx(f,{data:l,index:i,total:s.length},l.id))})})]})};export{v as default};
