import{j as e,f as S,r as y}from"./mui-0cba0ffe.js";import{A as k}from"./AppBar-be2fc40a.js";import{A as F}from"./AppGrid-c25915a4.js";import{P as A,a as L}from"./react-number-format.es-6b1811cb.js";import{S as w}from"./Spring-36ff1ca8.js";import{c as x}from"./index-ec57111b.js";import{S as R}from"./ScrollContainer-d41ea153.js";import{u as E}from"./web-9216e871.js";import{f as h}from"./index-1f53deeb.js";import{Q as C}from"./index-d498fdfb.js";import{S as Y}from"./index-78999714.js";import{u as P,C as f}from"./index.esm-dc9773c0.js";import{P as N}from"./PasswordInput-ba585132.js";import"./Helmet-d8d34bf4.js";import"./ResizeObserver.es-f4289e8a.js";import"./browser-ddfbe8c3.js";import"./toConsumableArray-04f0e357.js";import"./objectWithoutProperties-779f62c6.js";import"./createSuper-38483bea.js";import"./memoize-one.esm-297ddbcb.js";const q=({data:c,index:n,isFirstChild:a,isLastChild:t})=>e.jsxs(w,{className:x("flex items-center justify-between",{"border-b pb-4":!t},{"pt-4":!a}),type:"slideUp",index:n,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-[60px] h-[60px] hidden xs:flex md:hidden lg:flex items-center justify-center btn--base
                     rounded-[10px]`,children:e.jsx("i",{className:`icon-${c.device}-regular -mt-[1px] text-2xl text-sidebar dark:text-turquoise`})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[15px] text-header font-semibold",children:c.title}),e.jsx("span",{className:"text-label",children:S(c.timestamp).format("MMM DD, YYYY [at] hh:mm A")})]})]}),e.jsx("button",{className:"font-semibold text-[15px] text-peach dark:text-turquoise",children:"Logout"})]}),v=[{title:"Web",device:"desktop",timestamp:h.date.past()},{title:"Ipad",device:"tablet",timestamp:h.date.past()},{title:"Iphone",device:"mobile",timestamp:h.date.past()},{title:"Web",device:"desktop",timestamp:h.date.past()},{title:"Web",device:"desktop",timestamp:h.date.past()},{title:"Tablet, Android",device:"tablet",timestamp:h.date.past()},{title:"Mobile, Android",device:"mobile",timestamp:h.date.past()},{title:"Web",device:"desktop",timestamp:h.date.past()}],I=()=>{const[c,{height:n}]=E();return e.jsxs(w,{className:"card h-[600px] md:h-full overflow-hidden",children:[e.jsxs("div",{className:`flex flex-col gap-4 p-5 pb-[18px] xs:flex-row xs:justify-between xs:items-center
                 xs:pt-[28px] xs:px-6`,ref:c,children:[e.jsx("h2",{children:"Login History"}),e.jsx("button",{className:`btn btn--sm btn--base w-full xs:w-[115px] text-sidebar dark:text-turquoise hover:border-sidebar
                        dark:hover:border-turquoise`,children:"Logout All"})]}),e.jsx(R,{heightDeps:n,children:e.jsx("div",{className:"track pb-6 px-4 xs:pb-[28px] xs:px-6",children:v.sort((a,t)=>t.timestamp-a.timestamp).map((a,t)=>e.jsx(q,{data:a,isFirstChild:t===0,isLastChild:t===v.length-1,index:t},t))})})]})},z=function c(n){function a(r,s,d){var l,o={};if(Array.isArray(r))return r.concat(s);for(l in r)o[d?l.toLowerCase():l]=r[l];for(l in s){var p=d?l.toLowerCase():l,m=s[l];o[p]=p in o&&typeof m=="object"?a(o[p],m,p=="headers"):m}return o}function t(r,s,d,l,o){var p=typeof r!="string"?(s=r).url:r,m={config:s},i=a(n,s),b={};l=l||i.data,(i.transformRequest||[]).map(function(u){l=u(l,i.headers)||l}),i.auth&&(b.authorization=i.auth),l&&typeof l=="object"&&typeof l.append!="function"&&typeof l.text!="function"&&(l=JSON.stringify(l),b["content-type"]="application/json");try{b[i.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+i.xsrfCookieName+"=([^;]*)"))[2])}catch{}return i.baseURL&&(p=p.replace(/^(?!.*\/\/)\/?/,i.baseURL+"/")),i.params&&(p+=(~p.indexOf("?")?"&":"?")+(i.paramsSerializer?i.paramsSerializer(i.params):new URLSearchParams(i.params))),(i.fetch||fetch)(p,{method:(d||i.method||"get").toUpperCase(),body:l,headers:a(i.headers,b,!0),credentials:i.withCredentials?"include":o}).then(function(u){for(var j in u)typeof u[j]!="function"&&(m[j]=u[j]);return i.responseType=="stream"?(m.data=u.body,m):u[i.responseType||"text"]().then(function(g){m.data=g,m.data=JSON.parse(g)}).catch(Object).then(function(){return(i.validateStatus?i.validateStatus(u.status):u.ok)?m:Promise.reject(m)})})}return n=n||{},t.request=t,t.get=function(r,s){return t(r,s,"get")},t.delete=function(r,s){return t(r,s,"delete")},t.head=function(r,s){return t(r,s,"head")},t.options=function(r,s){return t(r,s,"options")},t.post=function(r,s,d){return t(r,d,"post",s)},t.put=function(r,s,d){return t(r,d,"put",s)},t.patch=function(r,s,d){return t(r,d,"patch",s)},t.all=Promise.all.bind(Promise),t.spread=function(r){return r.apply.bind(r,r)},t.CancelToken=typeof AbortController=="function"?AbortController:Object,t.defaults=n,t.create=c,t}(),U=()=>z.get("https://restcountries.com/v3.1/all").then(c=>{const n=[];return c.data.forEach(a=>{n.push({value:a.cca2,label:a.name.common})}),n.sort((a,t)=>a.label.localeCompare(t.label))}).catch(c=>console.log(c)),D=()=>{const[c,n]=y.useState(),{register:a,handleSubmit:t,setValue:r,control:s,formState:{errors:d}}=P(),l=o=>{console.log(o),C.success("Profile updated successfully!")};return y.useEffect(()=>{U().then(o=>n(o))},[]),e.jsxs("div",{className:"px-4 pb-4 pt-5 rounded-2xl border dark:bg-body dark:border-body",children:[e.jsxs("form",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-y-6",children:[e.jsxs("div",{className:"field-wrapper",children:[e.jsx("label",{className:"field-label",htmlFor:"firstName",children:"First Name"}),e.jsx("input",{className:x("field-input",{"field-input--error":d.firstName}),placeholder:"Your First Name",id:"firstName",type:"text",...a("firstName",{required:!0})})]}),e.jsxs("div",{className:"field-wrapper",children:[e.jsx("label",{className:"field-label",htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{className:x("field-input",{"field-input--error":d.lastName}),placeholder:"Your Last Name",id:"lastName",type:"text",...a("lastName",{required:!0})})]}),e.jsxs("div",{className:"field-wrapper",children:[e.jsx("label",{className:"field-label",htmlFor:"phone",children:"Phone Number"}),e.jsx(f,{name:"phone",control:s,defaultValue:"",render:({field:o})=>e.jsx(A,{className:x("field-input",{"field-input--error":d.phone}),placeholder:"Your Phone Number",id:"phone",format:"+1 (###) ###-####",mask:"_",getInputRef:o.ref,value:o.value,onValueChange:o.onChange})})]}),e.jsxs("div",{className:"field-wrapper",children:[e.jsx("label",{className:"field-label",htmlFor:"email",children:"Email"}),e.jsx("input",{className:x("field-input",{"field-input--error":d.email}),placeholder:"Your Email Address",id:"email",type:"text",...a("email",{required:!0,pattern:/^\S+@\S+$/i})})]}),e.jsxs("div",{className:"field-wrapper",children:[e.jsx("label",{className:"field-label",htmlFor:"country",children:"Country"}),e.jsx(f,{name:"country",control:s,render:({field:o})=>e.jsx(Y,{variant:"basic",placeholder:"Select your country",id:"country",isSearchable:!0,options:c,value:o.value,onChange:p=>{o.onChange(p),r("city","")}})})]}),e.jsxs("div",{className:"field-wrapper",children:[e.jsx("label",{className:"field-label",htmlFor:"city",children:"City"}),e.jsx("input",{className:"field-input",placeholder:"Your City",id:"city",type:"text",...a("city")})]}),e.jsxs("div",{className:"field-wrapper",children:[e.jsx("label",{className:"field-label",htmlFor:"address",children:"Address"}),e.jsx("input",{className:"field-input",placeholder:"Your Address",id:"address",type:"text",...a("address")})]}),e.jsxs("div",{className:"field-wrapper",children:[e.jsx("label",{className:"field-label",htmlFor:"zipCode",children:"Postal Code"}),e.jsx("input",{className:x("field-input",{"field-input--error":d.zipCode}),placeholder:"Your Postal Code",id:"zipCode",type:"text",...a("zipCode",{required:!0,pattern:/^\d{5}(?:[-\s]\d{4})?$/})})]}),e.jsxs("div",{className:"field-wrapper md:col-span-2",children:[e.jsx("label",{className:"field-label",htmlFor:"bio",children:"About You"}),e.jsx("textarea",{className:"field-input !py-4 !h-[93px]",placeholder:"Enter personal bio",id:"bio",...a("about")})]})]}),e.jsx("button",{className:"btn btn--primary w-full mt-6 !p-0 md:w-[174px] md:ml-auto",onClick:t(l),children:"Update Profile"})]})},M=()=>{const{handleSubmit:c,control:n,watch:a,formState:{errors:t}}=P({defaultValues:{currentPassword:"",newPassword:"",repeatNewPassword:""}}),r=s=>{console.log(s),C.success("Password changed successfully!")};return e.jsxs("form",{className:`px-4 py-5 rounded-2xl border dark:bg-body dark:border-body grid grid-cols-1 gap-4
              md:grid-cols-2 md:gap-y-6`,onSubmit:c(r),children:[e.jsx(f,{name:"currentPassword",control:n,rules:{required:!0},render:({field:s})=>e.jsx(N,{id:"currentPassword",label:"Current Password",placeholder:"Enter Current Password",isInvalid:t.currentPassword,innerRef:s.ref,value:s.value,onChange:s.onChange})}),e.jsx(f,{name:"newPassword",control:n,render:({field:s})=>e.jsx(N,{id:"newPassword",label:"New Password",placeholder:"Enter New Password",isInvalid:t.newPassword,innerRef:s.ref,value:s.value,onChange:s.onChange})}),e.jsx(f,{name:"repeatNewPassword",control:n,rules:{validate:s=>s===a("newPassword")},render:({field:s})=>e.jsx(N,{id:"repeatNewPassword",label:"Repeat New Password",placeholder:"Repeat new password",isInvalid:t.repeatNewPassword,innerRef:s.ref,value:s.value,onChange:s.onChange})}),e.jsxs("div",{className:"flex flex-col items-center gap-4 md:flex-row md:justify-end md:gap-[30px] md:mt-6",children:[e.jsx("button",{className:"text-header font-semibold hover:text-peach",onClick:s=>s.preventDefault(),children:"Forgot password?"}),e.jsxs("button",{className:"btn btn--primary w-full md:w-[140px] lg:w-[200px]",type:"submit",children:[e.jsx("span",{className:"md:hidden lg:inline",children:"Change password"}),e.jsx("span",{className:"hidden md:inline lg:hidden",children:"Save"})]})]})]})},O=()=>e.jsxs(w,{className:"card px-4 py-6 h-full xs:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-4",children:"Edit Profile"}),e.jsx(D,{})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4",children:"Change Password"}),e.jsx(M,{})]})]}),H={profile_card:e.jsx(L,{isPrivate:!0}),login_history:e.jsx(I,{}),edit_profile:e.jsx(O,{})},ne=()=>e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Settings"}),e.jsx(F,{id:"settings",widgets:H})]});export{ne as default};
